<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Simplified - Contact Intelligence Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#1E40AF',
                        accent: '#F59E0B',
                        success: '#10B981',
                        warning: '#F59E0B',
                        error: '#EF4444'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .loading-spinner {
            border: 2px solid #f3f4f6;
            border-top: 2px solid #3B82F6;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .notification {
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .feature-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .contact-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }
        
        .contact-card:hover {
            border-color: #3B82F6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1);
        }
        
        .btn-primary {
            background: #3B82F6;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: #2563EB;
        }
        
        .btn-secondary {
            background: #6B7280;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #4B5563;
        }
        
        .btn-success {
            background: #10B981;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-success:hover {
            background: #059669;
        }
        
        .btn-warning {
            background: #F59E0B;
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-warning:hover {
            background: #D97706;
        }
        
        .btn-small {
            padding: 4px 8px;
            font-size: 12px;
        }
        
        .btn-disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .form-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3B82F6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .tab-button {
            padding: 8px 16px;
            border: none;
            background: #f3f4f6;
            cursor: pointer;
            border-radius: 6px 6px 0 0;
            margin-right: 4px;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: white;
            border-bottom: 2px solid #3B82F6;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e5e7eb;
            border-top: none;
            border-radius: 0 0 6px 6px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 100;
            display: none;
        }
        
        .search-suggestions.show {
            display: block;
        }
        
        .suggestion-item {
            padding: 8px 12px;
            cursor: pointer;
            border-bottom: 1px solid #f3f4f6;
            transition: background-color 0.2s ease;
        }
        
        .suggestion-item:hover {
            background: #f9fafb;
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-connected {
            background: #10B981;
        }
        
        .status-disconnected {
            background: #EF4444;
        }
        
        .priority-high {
            color: #EF4444;
            font-weight: 600;
        }
        
        .priority-medium {
            color: #F59E0B;
            font-weight: 500;
        }
        
        .priority-low {
            color: #10B981;
            font-weight: 400;
        }
        
        .activity-item {
            border-left: 3px solid #3B82F6;
            padding-left: 12px;
            margin-bottom: 16px;
        }
        
        .activity-item.search {
            border-left-color: #10B981;
        }
        
        .activity-item.export {
            border-left-color: #F59E0B;
        }
        
        .activity-item.sfdc {
            border-left-color: #8B5CF6;
        }
        
        .metric-trend-up {
            color: #10B981;
        }
        
        .metric-trend-down {
            color: #EF4444;
        }
        
        .progress-bar {
            height: 8px;
            background: #f3f4f6;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3B82F6, #1E40AF);
            transition: width 0.3s ease;
        }
        
        .chart-container {
            position: relative;
            height: 200px;
            margin: 20px 0;
        }
        
        .chart-bar {
            background: linear-gradient(180deg, #3B82F6, #1E40AF);
            border-radius: 4px 4px 0 0;
            margin: 0 2px;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .chart-bar:hover {
            opacity: 0.8;
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }
        
        .tooltip.show {
            opacity: 1;
        }
        
        .integration-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .integration-connected {
            background: #D1FAE5;
            color: #065F46;
        }
        
        .integration-disconnected {
            background: #FEE2E2;
            color: #991B1B;
        }
        
        .feature-highlight {
            background: linear-gradient(135deg, #FEF3C7, #FCD34D);
            border-left: 4px solid #F59E0B;
            padding: 16px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .team-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3B82F6, #1E40AF);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }
        
        .export-option {
            padding: 12px;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .export-option:hover {
            border-color: #3B82F6;
            background: #f8fafc;
        }
        
        .export-option.selected {
            border-color: #3B82F6;
            background: #eff6ff;
        }
        
        .search-filter {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }
        
        .filter-chip {
            background: #f3f4f6;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-chip.active {
            background: #3B82F6;
            color: white;
        }
        
        .advanced-search-panel {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }
        
        .company-logo {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 16px;
        }
        
        .verification-badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .verification-verified {
            background: #D1FAE5;
            color: #065F46;
        }
        
        .verification-pending {
            background: #FEF3C7;
            color: #92400E;
        }
        
        .verification-failed {
            background: #FEE2E2;
            color: #991B1B;
        }
        
        .social-links {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }
        
        .social-link {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6b7280;
            text-decoration: none;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            background: #3B82F6;
            color: white;
        }
        
        .contact-score {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .score-high {
            background: #D1FAE5;
            color: #065F46;
        }
        
        .score-medium {
            background: #FEF3C7;
            color: #92400E;
        }
        
        .score-low {
            background: #FEE2E2;
            color: #991B1B;
        }
        
        .bulk-actions {
            position: sticky;
            top: 0;
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px;
            margin-bottom: 16px;
            z-index: 10;
        }
        
        .selected-count {
            background: #3B82F6;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .health-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
        
        .health-excellent {
            background: #10B981;
        }
        
        .health-good {
            background: #F59E0B;
        }
        
        .health-poor {
            background: #EF4444;
        }
        
        .api-status {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .api-operational {
            background: #D1FAE5;
            color: #065F46;
        }
        
        .api-degraded {
            background: #FEF3C7;
            color: #92400E;
        }
        
        .api-down {
            background: #FEE2E2;
            color: #991B1B;
        }
        
        .quick-action-button {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            color: #374151;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .quick-action-button:hover {
            background: #e5e7eb;
        }
        
        .usage-meter {
            background: #f3f4f6;
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .usage-fill {
            height: 100%;
            background: linear-gradient(90deg, #10B981, #059669);
            transition: width 0.3s ease;
        }
        
        .usage-fill.warning {
            background: linear-gradient(90deg, #F59E0B, #D97706);
        }
        
        .usage-fill.danger {
            background: linear-gradient(90deg, #EF4444, #DC2626);
        }
        
        .integration-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 16px;
            background: white;
        }
        
        .integration-card.connected {
            border-color: #10B981;
            background: #f0fdf4;
        }
        
        .integration-card.error {
            border-color: #EF4444;
            background: #fef2f2;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">SS</span>
                        </div>
                        <div>
                            <h1 class="text-xl font-semibold text-gray-900">Sales Simplified</h1>
                            <p class="text-sm text-gray-500">Contact Intelligence Platform</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Salesforce Status -->
                    <div class="flex items-center space-x-2">
                        <span class="status-indicator" id="sfdcStatusIndicator"></span>
                        <span class="text-sm text-gray-600" id="sfdcStatusText">Salesforce: Disconnected</span>
                        <button id="sfdcConnectBtn" class="btn-primary btn-small">Connect</button>
                    </div>
                    
                    <div class="flex items-center space-x-2">
                        <div class="team-avatar">B</div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Bryan's Team</p>
                            <p class="text-xs text-gray-500">40 Users Active</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Dashboard Navigation -->
        <nav class="mb-8">
            <div class="flex space-x-1">
                <button class="tab-button active" data-tab="search">Contact Search</button>
                <button class="tab-button" data-tab="analytics">Analytics</button>
                <button class="tab-button" data-tab="team">Team Management</button>
                <button class="tab-button" data-tab="integrations">Integrations</button>
                <button class="tab-button" data-tab="settings">Settings</button>
            </div>
        </nav>

        <!-- Search Tab -->
        <div id="search-tab" class="tab-content">
            <!-- Search Section -->
            <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-lg font-semibold text-gray-900">Find Contacts</h2>
                    <div class="flex items-center space-x-2">
                        <div class="api-status api-operational">
                            <div class="health-indicator health-excellent"></div>
                            APIs Operational
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                    <div class="search-container">
                        <input type="text" id="companySearch" placeholder="Company Name (e.g., Salesforce, Microsoft)" class="form-input">
                        <div class="search-suggestions" id="companySuggestions"></div>
                    </div>
                    <div class="search-container">
                        <input type="text" id="titleSearch" placeholder="Job Title (e.g., VP Sales, CTO)" class="form-input">
                        <div class="search-suggestions" id="titleSuggestions"></div>
                    </div>
                    <div class="search-container">
                        <input type="text" id="locationSearch" placeholder="Location (e.g., San Francisco, Remote)" class="form-input">
                        <div class="search-suggestions" id="locationSuggestions"></div>
                    </div>
                </div>
                
                <div class="search-filter">
                    <div class="filter-chip active" data-filter="all">All Results</div>
                    <div class="filter-chip" data-filter="verified">Verified Only</div>
                    <div class="filter-chip" data-filter="recent">Recent Activity</div>
                    <div class="filter-chip" data-filter="executive">Executive Level</div>
                    <div class="filter-chip" data-filter="tech">Tech Industry</div>
                </div>
                
                <div class="flex space-x-4">
                    <button id="searchBtn" class="btn-primary flex items-center space-x-2">
                        <span>Search Contacts</span>
                        <div class="loading-spinner hidden" id="searchSpinner"></div>
                    </button>
                    <button id="advancedSearchBtn" class="btn-secondary">Advanced Search</button>
                    <button id="savedSearchBtn" class="btn-secondary">Saved Searches</button>
                </div>
                
                <div class="advanced-search-panel hidden" id="advancedSearchPanel">
                    <h3 class="text-md font-semibold mb-4">Advanced Search Options</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Company Size</label>
                            <select class="form-input">
                                <option>Any Size</option>
                                <option>1-10 employees</option>
                                <option>11-50 employees</option>
                                <option>51-200 employees</option>
                                <option>201-1000 employees</option>
                                <option>1000+ employees</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Industry</label>
                            <select class="form-input">
                                <option>All Industries</option>
                                <option>Technology</option>
                                <option>Healthcare</option>
                                <option>Finance</option>
                                <option>Manufacturing</option>
                                <option>Professional Services</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Seniority Level</label>
                            <select class="form-input">
                                <option>All Levels</option>
                                <option>Entry Level</option>
                                <option>Mid Level</option>
                                <option>Senior Level</option>
                                <option>Executive</option>
                                <option>C-Level</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Department</label>
                            <select class="form-input">
                                <option>All Departments</option>
                                <option>Sales</option>
                                <option>Marketing</option>
                                <option>Engineering</option>
                                <option>Operations</option>
                                <option>Finance</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Results Section -->
            <div class="bg-white rounded-lg shadow-sm" id="resultsSection" style="display: none;">
                <div class="bulk-actions">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="selectAll" class="rounded border-gray-300">
                                <label for="selectAll" class="text-sm text-gray-700">Select All</label>
                                <span class="selected-count" id="selectedCount">0 selected</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button id="bulkExportBtn" class="btn-secondary btn-small">Export Selected</button>
                            <button id="bulkSfdcBtn" class="btn-success btn-small">Add to Salesforce</button>
                            <button id="bulkSequenceBtn" class="btn-primary btn-small">Add to Sequence</button>
                        </div>
                    </div>
                </div>
                
                <div class="p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-semibold text-gray-900">Search Results</h3>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-gray-600" id="resultCount">0 contacts found</span>
                            <button class="btn-secondary btn-small">Save Search</button>
                        </div>
                    </div>
                    
                    <div id="contactResults" class="space-y-4">
                        <!-- Contact results will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics-tab" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="stats-card rounded-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-white opacity-90">Total Searches</p>
                            <p class="text-2xl font-bold text-white">1,247</p>
                        </div>
                        <div class="text-white opacity-75">
                            <span class="text-lg">üîç</span>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center">
                        <span class="text-sm text-white opacity-90">+12% vs last month</span>
                    </div>
                </div>
                
                <div class="stats-card rounded-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-white opacity-90">Contacts Found</p>
                            <p class="text-2xl font-bold text-white">43,892</p>
                        </div>
                        <div class="text-white opacity-75">
                            <span class="text-lg">üë•</span>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center">
                        <span class="text-sm text-white opacity-90">+8% vs last month</span>
                    </div>
                </div>
                
                <div class="stats-card rounded-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-white opacity-90">Verification Rate</p>
                            <p class="text-2xl font-bold text-white">94.2%</p>
                        </div>
                        <div class="text-white opacity-75">
                            <span class="text-lg">‚úÖ</span>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center">
                        <span class="text-sm text-white opacity-90">+2.1% vs last month</span>
                    </div>
                </div>
                
                <div class="stats-card rounded-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-white opacity-90">API Cost</p>
                            <p class="text-2xl font-bold text-white">$148</p>
                        </div>
                        <div class="text-white opacity-75">
                            <span class="text-lg">üí∞</span>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center">
                        <span class="text-sm text-white opacity-90">-15% vs last month</span>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Usage Trends</h3>
                    <div class="chart-container">
                        <div class="flex items-end justify-between h-full space-x-2">
                            <div class="chart-bar" style="height: 60%;" data-value="245"></div>
                            <div class="chart-bar" style="height: 80%;" data-value="320"></div>
                            <div class="chart-bar" style="height: 45%;" data-value="180"></div>
                            <div class="chart-bar" style="height: 95%;" data-value="410"></div>
                            <div class="chart-bar" style="height: 70%;" data-value="285"></div>
                            <div class="chart-bar" style="height: 85%;" data-value="350"></div>
                            <div class="chart-bar" style="height: 100%;" data-value="425"></div>
                        </div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-2">
                        <span>Mon</span>
                        <span>Tue</span>
                        <span>Wed</span>
                        <span>Thu</span>
                        <span>Fri</span>
                        <span>Sat</span>
                        <span>Sun</span>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">API Usage</h3>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium text-gray-700">Apollo API</span>
                                <span class="text-sm text-gray-500">847 / 1,000 exports</span>
                            </div>
                            <div class="usage-meter">
                                <div class="usage-fill warning" style="width: 84.7%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium text-gray-700">Hunter API</span>
                                <span class="text-sm text-gray-500">12,450 / 50,000 contacts</span>
                            </div>
                            <div class="usage-meter">
                                <div class="usage-fill" style="width: 24.9%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm font-medium text-gray-700">Web Intelligence</span>
                                <span class="text-sm text-gray-500">2,340 / 10,000 requests</span>
                            </div>
                            <div class="usage-meter">
                                <div class="usage-fill" style="width: 23.4%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow-sm p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h3>
                <div class="space-y-4" id="activityFeed">
                    <div class="activity-item search">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-gray-900">Sarah Chen searched "VP Marketing" at "Healthcare Companies"</p>
                                <p class="text-xs text-gray-500">Found 127 contacts ‚Ä¢ 2 minutes ago</p>
                            </div>
                            <span class="text-xs text-gray-400">Search</span>
                        </div>
                    </div>
                    <div class="activity-item export">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-gray-900">Mike Rodriguez exported 45 contacts to HubSpot</p>
                                <p class="text-xs text-gray-500">CRM sync completed ‚Ä¢ 15 minutes ago</p>
                            </div>
                            <span class="text-xs text-gray-400">Export</span>
                        </div>
                    </div>
                    <div class="activity-item sfdc">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-gray-900">Jennifer Park added 23 contacts to Salesforce</p>
                                <p class="text-xs text-gray-500">Bulk import successful ‚Ä¢ 1 hour ago</p>
                            </div>
                            <span class="text-xs text-gray-400">SFDC</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Management Tab -->
        <div id="team-tab" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-lg font-semibold text-gray-900">Team Overview</h2>
                    <button class="btn-primary">Invite Member</button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-primary">40</div>
                        <div class="text-sm text-gray-600">Total Members</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-success">38</div>
                        <div class="text-sm text-gray-600">Active This Month</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-warning">2</div>
                        <div class="text-sm text-gray-600">Pending Invites</div>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Member</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Searches</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Active</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="team-avatar">BC</div>
                                        <div class="ml-3">
                                            <div class="text-sm font-medium text-gray-900">Bryan Chen</div>
                                            <div class="text-sm text-gray-500">bryan@company.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Admin</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">847</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5 minutes ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="integration-status integration-connected">Active</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="team-avatar">SC</div>
                                        <div class="ml-3">
                                            <div class="text-sm font-medium text-gray-900">Sarah Chen</div>
                                            <div class="text-sm text-gray-500">sarah@company.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Sales Rep</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">432</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2 hours ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="integration-status integration-connected">Active</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <div class="flex items-center">
                                        <div class="team-avatar">MR</div>
                                        <div class="ml-3">
                                            <div class="text-sm font-medium text-gray-900">Mike Rodriguez</div>
                                            <div class="text-sm text-gray-500">mike@company.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Sales Manager</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">298</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1 day ago</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="integration-status integration-connected">Active</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Integrations Tab -->
        <div id="integrations-tab" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-lg font-semibold text-gray-900 mb-2">CRM Integrations</h2>
                <p class="text-gray-600">Connect your favorite CRM tools to streamline your workflow</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="integration-card connected">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="company-logo">SF</div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Salesforce</h3>
                                <p class="text-sm text-gray-600">CRM Platform</p>
                            </div>
                        </div>
                        <span class="integration-status integration-connected">Connected</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">Sync contacts directly to your Salesforce org with automatic lead scoring and assignment.</p>
                    <div class="flex space-x-2">
                        <button class="btn-secondary btn-small">Configure</button>
                        <button class="btn-secondary btn-small">Disconnect</button>
                    </div>
                </div>
                
                <div class="integration-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="company-logo">HS</div>
                            <div>
                                <h3 class="font-semibold text-gray-900">HubSpot</h3>
                                <p class="text-sm text-gray-600">CRM Platform</p>
                            </div>
                        </div>
                        <span class="integration-status integration-disconnected">Disconnected</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">Automatically create contacts and companies in HubSpot with enriched data.</p>
                    <div class="flex space-x-2">
                        <button class="btn-primary btn-small">Connect</button>
                    </div>
                </div>
                
                <div class="integration-card">
                    <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                            <div class="company-logo">PD</div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Pipedrive</h3>
                                <p class="text-sm text-gray-600">Sales CRM</p>
                            </div>
                        </div>
                        <span class="integration-status integration-disconnected">Disconnected</span>
                    </div>
                    <p class="text-sm text-gray-600 mb-4">Push qualified contacts directly into your Pipedrive sales pipeline.</p>
                    <div class="flex space-x-2">
                        <button class="btn-primary btn-small">Connect</button>
                    </div>
                </div>
            </div>
            
            <div class="mt-8">
                <h2 class="text-lg font-semibold text-gray-900 mb-4">Email & Outreach Tools</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="integration-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="company-logo">O</div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">Outreach</h3>
                                    <p class="text-sm text-gray-600">Sales Engagement</p>
                                </div>
                            </div>
                            <span class="integration-status integration-disconnected">Disconnected</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-4">Add contacts to sequences and track engagement across touchpoints.</p>
                        <div class="flex space-x-2">
                            <button class="btn-primary btn-small">Connect</button>
                        </div>
                    </div>
                    
                    <div class="integration-card">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-3">
                                <div class="company-logo">SE</div>
                                <div>
                                    <h3 class="font-semibold text-gray-900">SalesLoft</h3>
                                    <p class="text-sm text-gray-600">Sales Engagement</p>
                                </div>
                            </div>
                            <span class="integration-status integration-disconnected">Disconnected</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-4">Seamlessly import contacts into your SalesLoft cadences.</p>
                        <div class="flex space-x-2">
                            <button class="btn-primary btn-small">Connect</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-tab" class="tab-content hidden">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Account Settings</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Organization Name</label>
                                <input type="text" value="Bryan's Team" class="form-input">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Billing Email</label>
                                <input type="email" value="billing@company.com" class="form-input">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Time Zone</label>
                                <select class="form-input">
                                    <option>Pacific Time (UTC-8)</option>
                                    <option>Mountain Time (UTC-7)</option>
                                    <option>Central Time (UTC-6)</option>
                                    <option>Eastern Time (UTC-5)</option>
                                </select>
                            </div>
                            <button class="btn-primary">Save Changes</button>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-semibold text-gray-900 mb-4">Data Export Settings</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Default Export Format</label>
                                <select class="form-input">
                                    <option>CSV</option>
                                    <option>Excel (XLSX)</option>
                                    <option>JSON</option>
                                </select>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" checked class="rounded border-gray-300">
                                    <span class="text-sm text-gray-700">Include verification status in exports</span>
                                </label>
                            </div>
                            <div>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" checked class="rounded border-gray-300">
                                    <span class="text-sm text-gray-700">Include social media links</span>
                                </label>
                            </div>
                            <button class="btn-primary">Save Preferences</button>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Current Plan</h3>
                        <div class="text-center">
                            <div class="text-3xl font-bold text-primary">$1,500</div>
                            <div class="text-sm text-gray-600">per month</div>
                            <div class="text-sm text-gray-600 mt-2">40 users included</div>
                        </div>
                        <div class="mt-4 space-y-2">
                            <div class="flex justify-between text-sm">
                                <span>Searches</span>
                                <span>Unlimited</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span>Export Limit</span>
                                <span>50,000/month</span>
                            </div>
                            <div class="flex justify-between text-sm">
                                <span>Support</span>
                                <span>Priority</span>
                            </div>
                        </div>
                        <button class="btn-primary w-full mt-4">Manage Billing</button>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Usage This Month</h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Searches</span>
                                    <span>1,247</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>Exports</span>
                                    <span>12,450 / 50,000</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 24.9%"></div>
                                </div>
                            </div>
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span>API Costs</span>
                                    <span>$148</span>
                                </div>
                                <div class="text-xs text-gray-500 mt-1">90% margin maintained</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Salesforce Connection Modal -->
    <div class="modal" id="sfdcModal">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Connect to Salesforce</h3>
                    <button id="closeSfdcModal" class="text-gray-400 hover:text-gray-600">
                        <span class="text-xl">&times;</span>
                    </button>
                </div>
                
                <form id="sfdcConnectionForm">
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Salesforce URL</label>
                            <input type="url" id="sfdcUrl" placeholder="https://yourcompany.salesforce.com" class="form-input" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                            <input type="email" id="sfdcUsername" placeholder="your.email@company.com" class="form-input" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Security Token</label>
                            <input type="password" id="sfdcToken" placeholder="Your Salesforce security token" class="form-input" required>
                        </div>
                        <div class="text-sm text-gray-600">
                            <p>You can find your security token in Salesforce under Settings ‚Üí My Personal Information ‚Üí Reset My Security Token</p>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 mt-6">
                        <button type="submit" class="btn-primary flex-1" id="connectSfdcBtn">
                            <span id="connectSfdcText">Connect</span>
                            <div class="loading-spinner hidden ml-2" id="connectSfdcSpinner"></div>
                        </button>
                        <button type="button" id="cancelSfdcBtn" class="btn-secondary">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal" id="exportModal">
        <div class="bg-white rounded-lg shadow-xl max-w-md w-full mx-4">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Export Contacts</h3>
                    <button id="closeExportModal" class="text-gray-400 hover:text-gray-600">
                        <span class="text-xl">&times;</span>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Export Format</label>
                        <div class="space-y-2">
                            <div class="export-option selected" data-format="csv">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">CSV File</div>
                                        <div class="text-sm text-gray-500">Comma-separated values, works with Excel</div>
                                    </div>
                                    <div class="text-2xl">üìä</div>
                                </div>
                            </div>
                            <div class="export-option" data-format="xlsx">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="font-medium">Excel File</div>
                                        <div class="text-sm text-gray-500">Native Excel format with formatting</div>
                                    </div>
                                    <div class="text-2xl">üìà</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Include Fields</label>
                        <div class="space-y-2">
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" checked class="rounded border-gray-300">
                                <span class="text-sm">Contact Information</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" checked class="rounded border-gray-300">
                                <span class="text-sm">Company Details</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" checked class="rounded border-gray-300">
                                <span class="text-sm">Social Media Links</span>
                            </label>
                            <label class="flex items-center space-x-2">
                                <input type="checkbox" class="rounded border-gray-300">
                                <span class="text-sm">Verification Status</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button id="exportBtn" class="btn-primary flex-1">Export</button>
                    <button id="cancelExportBtn" class="btn-secondary">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification fixed top-4 right-4 bg-white rounded-lg shadow-lg border p-4 z-50" id="notification">
        <div class="flex items-center space-x-3">
            <div class="flex-shrink-0">
                <div class="w-6 h-6 rounded-full bg-success flex items-center justify-center">
                    <span class="text-white text-sm">‚úì</span>
                </div>
            </div>
            <div>
                <p class="text-sm font-medium text-gray-900" id="notificationTitle">Success!</p>
                <p class="text-sm text-gray-600" id="notificationMessage">Operation completed successfully.</p>
            </div>
        </div>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>

    <script>
        // Application State
        let appState = {
            currentTab: 'search',
            searchResults: [],
            selectedContacts: [],
            sfdcConnected: false,
            activityLog: [],
            searchHistory: [],
            userPreferences: {
                exportFormat: 'csv',
                includeVerification: true,
                includeSocial: true
            }
        };

        // Sample data for demonstrations
        const sampleContacts = [
            {
                id: 1,
                name: "Sarah Johnson",
                title: "VP of Marketing",
                company: "TechCorp Solutions",
                email: "sarah.johnson@techcorp.com",
                phone: "+1 (555) 123-4567",
                location: "San Francisco, CA",
                linkedinUrl: "https://linkedin.com/in/sarahjohnson",
                verified: true,
                score: 95,
                companySize: "500-1000",
                industry: "Technology"
            },
            {
                id: 2,
                name: "Michael Chen",
                title: "Director of Sales",
                company: "InnovateLabs",
                email: "m.chen@innovatelabs.com", 
                phone: "+1 (555) 987-6543",
                location: "Austin, TX",
                linkedinUrl: "https://linkedin.com/in/michaelchen",
                verified: true,
                score: 88,
                companySize: "200-500",
                industry: "Software"
            },
            {
                id: 3,
                name: "Jennifer Park",
                title: "Chief Technology Officer",
                company: "DataFlow Systems",
                email: "jennifer.park@dataflow.com",
                phone: "+1 (555) 456-7890",
                location: "Seattle, WA",
                linkedinUrl: "https://linkedin.com/in/jenniferpark",
                verified: true,
                score: 92,
                companySize: "1000+",
                industry: "Enterprise Software"
            },
            {
                id: 4,
                name: "David Rodriguez",
                title: "Head of Business Development",
                company: "GrowthPartners",
                email: "david.r@growthpartners.com",
                phone: "+1 (555) 321-0987",
                location: "Chicago, IL",
                linkedinUrl: "https://linkedin.com/in/davidrodriguez",
                verified: false,
                score: 76,
                companySize: "50-200",
                industry: "Consulting"
            },
            {
                id: 5,
                name: "Lisa Wang",
                title: "VP of Product",
                company: "NextGen Analytics",
                email: "lisa.wang@nextgenanalytics.com",
                phone: "+1 (555) 654-3210",
                location: "Boston, MA",
                linkedinUrl: "https://linkedin.com/in/lisawang",
                verified: true,
                score: 89,
                companySize: "100-500",
                industry: "Analytics"
            }
        ];

        const searchSuggestions = {
            companies: ["Salesforce", "Microsoft", "Google", "Amazon", "Apple", "Netflix", "Uber", "Airbnb", "Stripe", "Zoom"],
            titles: ["VP Sales", "Director Marketing", "CTO", "CEO", "Head of Engineering", "Product Manager", "Sales Manager", "Marketing Director"],
            locations: ["San Francisco", "New York", "Austin", "Seattle", "Chicago", "Boston", "Los Angeles", "Remote"]
        };

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            updateSalesforceStatus();
        });

        function initializeApp() {
            // Load saved state from localStorage
            const savedState = localStorage.getItem('salesSimplifiedState');
            if (savedState) {
                try {
                    const parsed = JSON.parse(savedState);
                    appState = { ...appState, ...parsed };
                } catch (e) {
                    console.warn('Failed to load saved state:', e);
                }
            }

            // Set initial tab
            showTab(appState.currentTab);
            
            // Update UI elements
            updateSelectedCount();
            populateActivityFeed();
        }

        function setupEventListeners() {
            // Tab navigation
            document.querySelectorAll('.tab-button').forEach(button => {
                button.addEventListener('click', function() {
                    const tab = this.getAttribute('data-tab');
                    showTab(tab);
                });
            });

            // Search functionality
            document.getElementById('searchBtn').addEventListener('click', performSearch);
            document.getElementById('advancedSearchBtn').addEventListener('click', toggleAdvancedSearch);
            
            // Search input suggestions
            setupSearchSuggestions();

            // Bulk actions
            document.getElementById('selectAll').addEventListener('change', selectAllContacts);
            document.getElementById('bulkExportBtn').addEventListener('click', () => showExportModal());
            document.getElementById('bulkSfdcBtn').addEventListener('click', bulkAddToSalesforce);
            document.getElementById('bulkSequenceBtn').addEventListener('click', bulkAddToSequence);

            // Salesforce integration
            document.getElementById('sfdcConnectBtn').addEventListener('click', showSalesforceModal);
            document.getElementById('closeSfdcModal').addEventListener('click', hideSalesforceModal);
            document.getElementById('cancelSfdcBtn').addEventListener('click', hideSalesforceModal);
            document.getElementById('sfdcConnectionForm').addEventListener('submit', connectToSalesforce);

            // Export modal
            document.getElementById('closeExportModal').addEventListener('click', hideExportModal);
            document.getElementById('cancelExportBtn').addEventListener('click', hideExportModal);
            document.getElementById('exportBtn').addEventListener('click', exportContacts);

            // Export format selection
            document.querySelectorAll('.export-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.export-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // Filter chips
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Chart hover effects
            document.querySelectorAll('.chart-bar').forEach(bar => {
                bar.addEventListener('mouseenter', showChartTooltip);
                bar.addEventListener('mouseleave', hideChartTooltip);
            });

            // Close modal on outside click
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    e.target.classList.remove('show');
                }
            });

            // Enter key search
            ['companySearch', 'titleSearch', 'locationSearch'].forEach(id => {
                document.getElementById(id).addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            });
        }

        function showTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
                if (button.getAttribute('data-tab') === tabName) {
                    button.classList.add('active');
                }
            });

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(`${tabName}-tab`).classList.remove('hidden');

            // Update state
            appState.currentTab = tabName;
            saveState();
        }

        function setupSearchSuggestions() {
            const inputs = [
                { id: 'companySearch', suggestions: searchSuggestions.companies },
                { id: 'titleSearch', suggestions: searchSuggestions.titles },
                { id: 'locationSearch', suggestions: searchSuggestions.locations }
            ];

            inputs.forEach(({ id, suggestions }) => {
                const input = document.getElementById(id);
                const suggestionsList = document.getElementById(id.replace('Search', 'Suggestions'));

                input.addEventListener('input', function() {
                    const value = this.value.toLowerCase();
                    if (value.length < 2) {
                        suggestionsList.classList.remove('show');
                        return;
                    }

                    const filtered = suggestions.filter(item => 
                        item.toLowerCase().includes(value)
                    );

                    if (filtered.length > 0) {
                        suggestionsList.innerHTML = filtered.map(item => 
                            `<div class="suggestion-item" data-value="${item}">${item}</div>`
                        ).join('');
                        suggestionsList.classList.add('show');

                        // Add click handlers to suggestions
                        suggestionsList.querySelectorAll('.suggestion-item').forEach(item => {
                            item.addEventListener('click', function() {
                                input.value = this.getAttribute('data-value');
                                suggestionsList.classList.remove('show');
                            });
                        });
                    } else {
                        suggestionsList.classList.remove('show');
                    }
                });

                input.addEventListener('blur', function() {
                    setTimeout(() => suggestionsList.classList.remove('show'), 200);
                });
            });
        }

        function performSearch() {
            const searchBtn = document.getElementById('searchBtn');
            const spinner = document.getElementById('searchSpinner');
            
            // Get search parameters
            const company = document.getElementById('companySearch').value;
            const title = document.getElementById('titleSearch').value;
            const location = document.getElementById('locationSearch').value;

            if (!company && !title && !location) {
                showNotification('Search Error', 'Please enter at least one search criterion', 'error');
                return;
            }

            // Show loading state
            searchBtn.disabled = true;
            spinner.classList.remove('hidden');

            // Simulate API call
            setTimeout(() => {
                // Filter sample contacts based on search criteria
                let results = sampleContacts.filter(contact => {
                    const matchCompany = !company || contact.company.toLowerCase().includes(company.toLowerCase());
                    const matchTitle = !title || contact.title.toLowerCase().includes(title.toLowerCase());
                    const matchLocation = !location || contact.location.toLowerCase().includes(location.toLowerCase());
                    return matchCompany && matchTitle && matchLocation;
                });

                // Add some variety to results
                if (results.length === 0) {
                    results = sampleContacts.slice(0, 3);
                }

                displaySearchResults(results);
                
                // Log activity
                addActivity({
                    type: 'search',
                    description: `Searched for "${[company, title, location].filter(Boolean).join(', ')}"`,
                    details: `Found ${results.length} contacts`,
                    timestamp: new Date()
                });

                // Reset UI
                searchBtn.disabled = false;
                spinner.classList.add('hidden');

                showNotification('Search Complete', `Found ${results.length} contacts matching your criteria`);
            }, 1500);
        }

        function displaySearchResults(results) {
            const resultsSection = document.getElementById('resultsSection');
            const contactResults = document.getElementById('contactResults');
            const resultCount = document.getElementById('resultCount');

            appState.searchResults = results;
            appState.selectedContacts = [];

            resultCount.textContent = `${results.length} contacts found`;
            
            contactResults.innerHTML = results.map(contact => `
                <div class="contact-card" data-contact-id="${contact.id}">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start space-x-3">
                            <input type="checkbox" class="contact-checkbox mt-1 rounded border-gray-300" data-contact-id="${contact.id}">
                            <div class="company-logo">${contact.company.charAt(0)}</div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2 mb-1">
                                    <h4 class="font-semibold text-gray-900">${contact.name}</h4>
                                    <span class="contact-score ${getScoreClass(contact.score)}">${contact.score}</span>
                                    ${contact.verified ? '<span class="verification-badge verification-verified">Verified</span>' : '<span class="verification-badge verification-pending">Pending</span>'}
                                </div>
                                <p class="text-sm text-gray-600 mb-1">${contact.title} at ${contact.company}</p>
                                <p class="text-sm text-gray-500 mb-2">${contact.location} ‚Ä¢ ${contact.industry} ‚Ä¢ ${contact.companySize} employees</p>
                                <div class="flex items-center space-x-4 text-sm text-gray-600">
                                    <span>üìß ${contact.email}</span>
                                    <span>üìû ${contact.phone}</span>
                                </div>
                                <div class="social-links">
                                    <a href="${contact.linkedinUrl}" target="_blank" class="social-link">in</a>
                                    <a href="#" class="social-link">üê¶</a>
                                    <a href="#" class="social-link">üåê</a>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button class="btn-small btn-secondary" onclick="exportSingleContact(${contact.id})">Export</button>
                            <button class="btn-small ${appState.sfdcConnected ? 'btn-success' : 'btn-secondary btn-disabled'}" onclick="addToSalesforce(${contact.id})" ${!appState.sfdcConnected ? 'disabled' : ''}>SFDC</button>
                            <button class="btn-small btn-primary" onclick="addToSequence(${contact.id})">Sequence</button>
                        </div>
                    </div>
                </div>
            `).join('');

            // Add event listeners to checkboxes
            document.querySelectorAll('.contact-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedContacts);
            });

            resultsSection.style.display = 'block';
            updateSelectedCount();
        }

        function getScoreClass(score) {
            if (score >= 85) return 'score-high';
            if (score >= 70) return 'score-medium';
            return 'score-low';
        }

        function updateSelectedContacts() {
            const checkboxes = document.querySelectorAll('.contact-checkbox:checked');
            appState.selectedContacts = Array.from(checkboxes).map(cb => 
                parseInt(cb.getAttribute('data-contact-id'))
            );
            updateSelectedCount();
            updateBulkActionButtons();
        }

        function updateSelectedCount() {
            const selectedCount = document.getElementById('selectedCount');
            const count = appState.selectedContacts.length;
            selectedCount.textContent = `${count} selected`;
            
            // Update select all checkbox
            const selectAllCheckbox = document.getElementById('selectAll');
            const totalResults = appState.searchResults.length;
            
            if (count === 0) {
                selectAllCheckbox.indeterminate = false;
                selectAllCheckbox.checked = false;
            } else if (count === totalResults) {
                selectAllCheckbox.indeterminate = false;
                selectAllCheckbox.checked = true;
            } else {
                selectAllCheckbox.indeterminate = true;
            }
        }

        function updateBulkActionButtons() {
            const hasSelection = appState.selectedContacts.length > 0;
            const sfdcBtn = document.getElementById('bulkSfdcBtn');
            
            document.getElementById('bulkExportBtn').disabled = !hasSelection;
            document.getElementById('bulkSequenceBtn').disabled = !hasSelection;
            
            sfdcBtn.disabled = !hasSelection || !appState.sfdcConnected;
            if (!appState.sfdcConnected) {
                sfdcBtn.classList.add('btn-disabled');
            } else {
                sfdcBtn.classList.remove('btn-disabled');
            }
        }

        function selectAllContacts() {
            const selectAll = document.getElementById('selectAll');
            const checkboxes = document.querySelectorAll('.contact-checkbox');
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAll.checked;
            });
            
            updateSelectedContacts();
        }

        function toggleAdvancedSearch() {
            const panel = document.getElementById('advancedSearchPanel');
            panel.classList.toggle('hidden');
        }

        // Salesforce Integration Functions
        function showSalesforceModal() {
            if (appState.sfdcConnected) {
                disconnectFromSalesforce();
            } else {
                document.getElementById('sfdcModal').classList.add('show');
            }
        }

        function hideSalesforceModal() {
            document.getElementById('sfdcModal').classList.remove('show');
            document.getElementById('sfdcConnectionForm').reset();
        }

        function connectToSalesforce(e) {
            e.preventDefault();
            
            const connectBtn = document.getElementById('connectSfdcBtn');
            const spinner = document.getElementById('connectSfdcSpinner');
            const text = document.getElementById('connectSfdcText');
            
            // Get form data
            const url = document.getElementById('sfdcUrl').value;
            const username = document.getElementById('sfdcUsername').value;
            const token = document.getElementById('sfdcToken').value;
            
            // Show loading state
            connectBtn.disabled = true;
            spinner.classList.remove('hidden');
            text.textContent = 'Connecting...';
            
            // Simulate connection
            setTimeout(() => {
                appState.sfdcConnected = true;
                saveState();
                updateSalesforceStatus();
                hideSalesforceModal();
                
                addActivity({
                    type: 'sfdc',
                    description: 'Connected to Salesforce',
                    details: `Connected to ${url}`,
                    timestamp: new Date()
                });
                
                showNotification('Salesforce Connected', 'Successfully connected to your Salesforce org');
                
                // Reset form
                connectBtn.disabled = false;
                spinner.classList.add('hidden');
                text.textContent = 'Connect';
            }, 2000);
        }

        function disconnectFromSalesforce() {
            appState.sfdcConnected = false;
            saveState();
            updateSalesforceStatus();
            
            addActivity({
                type: 'sfdc',
                description: 'Disconnected from Salesforce',
                details: 'Salesforce integration disabled',
                timestamp: new Date()
            });
            
            showNotification('Salesforce Disconnected', 'Successfully disconnected from Salesforce');
        }

        function updateSalesforceStatus() {
            const statusIndicator = document.getElementById('sfdcStatusIndicator');
            const statusText = document.getElementById('sfdcStatusText');
            const connectBtn = document.getElementById('sfdcConnectBtn');
            
            if (appState.sfdcConnected) {
                statusIndicator.className = 'status-indicator status-connected';
                statusText.textContent = 'Salesforce: Connected';
                connectBtn.textContent = 'Disconnect';
                connectBtn.className = 'btn-warning btn-small';
            } else {
                statusIndicator.className = 'status-indicator status-disconnected';
                statusText.textContent = 'Salesforce: Disconnected';
                connectBtn.textContent = 'Connect';
                connectBtn.className = 'btn-primary btn-small';
            }
            
            updateBulkActionButtons();
        }

        function addToSalesforce(contactId) {
            if (!appState.sfdcConnected) {
                showNotification('Salesforce Required', 'Please connect to Salesforce first', 'error');
                return;
            }
            
            const contact = appState.searchResults.find(c => c.id === contactId);
            if (!contact) return;
            
            // Simulate adding to Salesforce
            setTimeout(() => {
                addActivity({
                    type: 'sfdc',
                    description: `Added ${contact.name} to Salesforce`,
                    details: `${contact.title} at ${contact.company}`,
                    timestamp: new Date()
                });
                
                showNotification('Added to Salesforce', `${contact.name} has been added to your Salesforce org`);
            }, 1000);
        }

        function bulkAddToSalesforce() {
            if (!appState.sfdcConnected) {
                showNotification('Salesforce Required', 'Please connect to Salesforce first', 'error');
                return;
            }
            
            const selectedCount = appState.selectedContacts.length;
            if (selectedCount === 0) return;
            
            // Simulate bulk add to Salesforce
            setTimeout(() => {
                addActivity({
                    type: 'sfdc',
                    description: `Added ${selectedCount} contacts to Salesforce`,
                    details: 'Bulk import completed successfully',
                    timestamp: new Date()
                });
                
                showNotification('Bulk Added to Salesforce', `${selectedCount} contacts have been added to your Salesforce org`);
            }, 1500);
        }

        // Export Functions
        function showExportModal() {
            if (appState.selectedContacts.length === 0) {
                showNotification('No Selection', 'Please select contacts to export', 'error');
                return;
            }
            document.getElementById('exportModal').classList.add('show');
        }

        function hideExportModal() {
            document.getElementById('exportModal').classList.remove('show');
        }

        function exportContacts() {
            const selectedFormat = document.querySelector('.export-option.selected').getAttribute('data-format');
            const selectedCount = appState.selectedContacts.length;
            
            // Simulate export
            setTimeout(() => {
                addActivity({
                    type: 'export',
                    description: `Exported ${selectedCount} contacts`,
                    details: `Format: ${selectedFormat.toUpperCase()}`,
                    timestamp: new Date()
                });
                
                showNotification('Export Complete', `${selectedCount} contacts exported as ${selectedFormat.toUpperCase()}`);
                hideExportModal();
            }, 1000);
        }

        function exportSingleContact(contactId) {
            const contact = appState.searchResults.find(c => c.id === contactId);
            if (!contact) return;
            
            setTimeout(() => {
                addActivity({
                    type: 'export',
                    description: `Exported ${contact.name}`,
                    details: `${contact.title} at ${contact.company}`,
                    timestamp: new Date()
                });
                
                showNotification('Contact Exported', `${contact.name} has been exported`);
            }, 500);
        }

        // Sequence Functions
        function addToSequence(contactId) {
            const contact = appState.searchResults.find(c => c.id === contactId);
            if (!contact) return;
            
            setTimeout(() => {
                addActivity({
                    type: 'sequence',
                    description: `Added ${contact.name} to sequence`,
                    details: `${contact.title} at ${contact.company}`,
                    timestamp: new Date()
                });
                
                showNotification('Added to Sequence', `${contact.name} has been added to your outreach sequence`);
            }, 500);
        }

        function bulkAddToSequence() {
            const selectedCount = appState.selectedContacts.length;
            if (selectedCount === 0) return;
            
            setTimeout(() => {
                addActivity({
                    type: 'sequence',
                    description: `Added ${selectedCount} contacts to sequence`,
                    details: 'Bulk sequence assignment completed',
                    timestamp: new Date()
                });
                
                showNotification('Added to Sequence', `${selectedCount} contacts have been added to your outreach sequence`);
            }, 1000);
        }

        // Activity Functions
        function addActivity(activity) {
            appState.activityLog.unshift(activity);
            if (appState.activityLog.length > 50) {
                appState.activityLog = appState.activityLog.slice(0, 50);
            }
            populateActivityFeed();
            saveState();
        }

        function populateActivityFeed() {
            const feed = document.getElementById('activityFeed');
            if (!feed) return;
            
            feed.innerHTML = appState.activityLog.slice(0, 10).map(activity => `
                <div class="activity-item ${activity.type}">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-medium text-gray-900">${activity.description}</p>
                            <p class="text-xs text-gray-500">${activity.details} ‚Ä¢ ${formatTimeAgo(activity.timestamp)}</p>
                        </div>
                        <span class="text-xs text-gray-400">${activity.type.toUpperCase()}</span>
                    </div>
                </div>
            `).join('');
        }

        function formatTimeAgo(timestamp) {
            const now = new Date();
            const time = new Date(timestamp);
            const diffInSeconds = Math.floor((now - time) / 1000);
            
            if (diffInSeconds < 60) return `${diffInSeconds} seconds ago`;
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;
            return `${Math.floor(diffInSeconds / 86400)} days ago`;
        }

        // Chart Functions
        function showChartTooltip(e) {
            const tooltip = document.getElementById('tooltip');
            const value = e.target.getAttribute('data-value');
            tooltip.textContent = `${value} searches`;
            tooltip.style.left = `${e.pageX + 10}px`;
            tooltip.style.top = `${e.pageY - 30}px`;
            tooltip.classList.add('show');
        }

        function hideChartTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.classList.remove('show');
        }

        // Notification Functions
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const titleEl = document.getElementById('notificationTitle');
            const messageEl = document.getElementById('notificationMessage');
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            // Update icon based on type
            const icon = notification.querySelector('.w-6');
            if (type === 'error') {
                icon.className = 'w-6 h-6 rounded-full bg-error flex items-center justify-center';
                icon.innerHTML = '<span class="text-white text-sm">‚úï</span>';
            } else {
                icon.className = 'w-6 h-6 rounded-full bg-success flex items-center justify-center';
                icon.innerHTML = '<span class="text-white text-sm">‚úì</span>';
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        // State Management
        function saveState() {
            try {
                localStorage.setItem('salesSimplifiedState', JSON.stringify({
                    sfdcConnected: appState.sfdcConnected,
                    currentTab: appState.currentTab,
                    userPreferences: appState.userPreferences,
                    activityLog: appState.activityLog.slice(0, 20) // Only save recent activity
                }));
            } catch (e) {
                console.warn('Failed to save state:', e);
            }
        }

        // Initialize demo data on first load
        if (!localStorage.getItem('salesSimplifiedState')) {
            // Add some demo activity
            appState.activityLog = [
                {
                    type: 'search',
                    description: 'Sarah Chen searched "VP Marketing" at "Healthcare Companies"',
                    details: 'Found 127 contacts',
                    timestamp: new Date(Date.now() - 2 * 60 * 1000)
                },
                {
                    type: 'export',
                    description: 'Mike Rodriguez exported 45 contacts to HubSpot',
                    details: 'CRM sync completed',
                    timestamp: new Date(Date.now() - 15 * 60 * 1000)
                },
                {
                    type: 'sfdc',
                    description: 'Jennifer Park added 23 contacts to Salesforce',
                    details: 'Bulk import successful',
                    timestamp: new Date(Date.now() - 60 * 60 * 1000)
                }
            ];
        }
    </script>
</body>
</html>
